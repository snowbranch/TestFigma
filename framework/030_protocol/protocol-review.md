# Protocol 协议审核规则

## 审核要点

### 1. 职责边界
- Protocol 只定义客户端-服务端之间的**网络通信格式**
- **不包含业务逻辑**（如查询、筛选、计算等）
- 本地状态操作应在 Store/Selectors 中实现

### 2. 文件组织
- entities.d.ts - 共享实体定义
- state.d.ts - 状态同步结构（仅同步模式需要）
- api.d.ts - API 请求/响应类型（仅 API 模式需要）
- listener.d.ts - 监听器载荷类型（仅监听模式需要）
- index.d.ts - 统一导出

### 3. 类型定义规范
- 所有字段必须有清晰的中文注释
- 使用明确的类型而非 any/unknown
- 枚举值从 1 开始（Lua 数组索引习惯）
- 可选字段使用 `?` 标记并说明默认值

### 4. 模块依赖
- 通用模块不依赖任何其他模块
- 业务模块可依赖通用模块
- 集成模块可依赖通用模块,业务模块
- 避免循环依赖
